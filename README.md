# flow-control
Автоматизация производственных процессов транспортной службы.

## **Общее техническое задание на проект**  
**Автоматизация процессов автотранспортной службы в строительной компании**  

#### **1. Цель проекта**  
Создание централизованной системы учета и управления заявками на автотранспорт и спецтехнику для группы строительных компаний с возможностью:  
- Подачи и обработки заявок.  
- Учета техники и распределения ресурсов.  
- Оперативного контроля выполнения работ.  
- Гибкой настройки дополнительных полей под нужды компаний.  

#### **2. Основные модули системы**  
1. **Управление организациями и пользователями**  
   - Иерархия: материнская компания → дочерние организации → подразделения (регионы).  
   - Роли: заказчики, диспетчеры, водители/машинисты, администраторы.  

2. **Учет заявок**  
   - Разные типы заявок (легковой транспорт, спецтехника и др.) с гибкой структурой полей.  
   - Статусы заявок (новая, в работе, выполнена, отменена).  
   - Фильтрация и поиск заявок по подразделениям, датам, типам техники.  

3. **Учет техники**  
   - База ТС и механизмов (своих и арендованных).  
   - Назначение техники на заявки.  
   - История использования.  

4. **Оперативный учет работ**  
   - Ввод данных о выполненных работах (водитель + заказчик).  
   - Подтверждение/корректировка выполненных работ.  

5. **Отчетность и аналитика**  
   - Дашборды для диспетчеров и руководителей.  
   - Экспорт данных в Excel.  

6. **Гибкие настройки**  
   - Возможность добавлять кастомные поля для заявок и техники.  
   - Настройка обязательных полей для конкретных подразделений.  

7. **Уведомления**  
   - Оповещения о статусах заявок (email, веб-уведомления, Телеграм).  

#### **3. Технические требования**  
- **Backend**: Django (Python) + Django REST Framework (если нужен API).  
- **Frontend**: HTML/CSS/JS, возможно React/Vue для сложных интерфейсов.  
- **База данных**: PostgreSQL (поддержка сложных запросов и связей).  
- **Деплой**: Nginx, Gunicorn.  

#### **4. Дальнейшее развитие**  
- Интеграция с ГЛОНАСС, бухгалтерскими системами.  
- Мобильное приложение для водителей.  
- Автоматическое планирование маршрутов.  

---

### **Детализированное ТЗ на первый этап**  

#### **1. Цель этапа**  
Реализация базового функционала подачи и обработки заявок, учета техники и простого распределения.  

#### **2. Функционал**  

##### **2.1. Модуль организаций и пользователей**  
- Регистрация компаний и подразделений (админка Django).  
- Роли:  
  - **Заказчик** – подает заявки, просматривает свои заявки.  
  - **Диспетчер** – распределяет технику, меняет статусы заявок.  
  - **Администратор** – управляет пользователями и справочниками.  

##### **2.2. Модуль заявок**  
- Форма подачи заявки с полями:  
  - Тип техники (выбор из справочника).  
  - Дата/время, пункты назначения, комментарий.  
  - Доп. поля (настраиваются админом).  
- Просмотр заявок:  
  - Для заказчика – только свои.  
  - Для диспетчера – все заявки его подразделения.  
- Экспорт заявок в Excel.  

##### **2.3. Модуль учета техники**  
- Справочник техники:  
  - Название, тип, госномер, организация-владелец.  
  - Статус (доступна/в ремонте/занята).  
- Назначение техники на заявку (ручной выбор диспетчером).  

##### **2.4. Базовые отчеты**  
- Список заявок за период.  
- Загрузка техники.  

#### **3. Техническая реализация**  
- **Модели Django**
- **API (если нужно)**: DRF для мобильного клиента в будущем.  
- **Интерфейс**: Django Templates + Bootstrap.  

#### **4. Сроки и приоритеты**  
- 1-2 месяца на первый этап.  
- Приоритет: подача заявок → распределение → базовый учет.  

---

**Итог**:  
Первая версия системы позволит отказаться от Excel-журналов и даст основу для дальнейшей автоматизации. Последующие этапы добавят учет работ, интеграции и аналитику.
